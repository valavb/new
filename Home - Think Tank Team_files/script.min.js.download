!function(e,t,i){"use strict";function a(){var a=Math.max(i.documentElement.clientHeight,t.innerHeight||0),n=e("#wpadminbar").outerHeight(),s=e(t).width()/2;s=s>a?a-n:s,e(".main-wrapper").css("padding-top",n),e(".js-full-height-hard").css("height",Math.max(i.documentElement.clientHeight,t.innerHeight)),e(".js-full-height-project").css("min-height",a-n),e(".js-square-project").css("min-height",s),e(".js-cs-header").css("min-height",Math.min(i.documentElement.clientHeight,t.innerHeight)-n)}function n(e){e.target.playVideo()}function s(t){t.data==YT.PlayerState.ENDED&&e.magnificPopup.close()}function l(){return"ontouchstart"in i.documentElement}function o(){return-1!=navigator.platform.indexOf("iPhone")}function r(){return null!=navigator.userAgent.match(/iPad/i)}i.addEventListener("touchstart",(function(){}),!1),e(".js-video-btn").magnificPopup({disableOn:0,type:"iframe",mainClass:"mfp-fade",fixedContentPos:!0,fixedBgPos:!0,iframe:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe id="player" class="mfp-iframe" frameborder="0" allowfullscreen></iframe></div>',patterns:{youtube:{index:"youtube.com/",id:"v=",src:"//www.youtube.com/embed/%id%?enablejsapi=1&autoplay=1"}},srcAction:"iframe_src"},callbacks:{open:function(){new YT.Player("player",{events:{onReady:n,onStateChange:s}});var t,a=e(".js-slide-video");if(e(".js-slide-video").length){var l=a.attr("id"),o=i.getElementById(l);t=!1,o.paused?t&&o.play():t||o.pause()}},beforeClose:function(){var t,a=e(".js-slide-video");if(e(".js-slide-video").length){var n=a.attr("id"),s=i.getElementById(n);t=!0,s.paused?t&&s.play():t||s.pause()}},afterClose:function(){a()}}}),l()&&e("body").addClass("is-touch"),r()&&e("body").addClass("is-ipad"),o()&&e("body").addClass("is-iphone"),(i.documentMode||/Edge/.test(navigator.userAgent))&&e("body").addClass("old-browsers");var d,p=l()?200:300,c=l()?.4:.5;function h(){d=new Swiper(".swiper-container",{direction:"vertical",slidesPerView:1,speed:p,effect:"fade",nextButton:".swiper-button-next",prevButton:".swiper-button-prev",mousewheel:!0,longSwipes:!1,noSwiping:!0,noSwipingClass:"swiper-no-swiping",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev",disabledClass:"swiper-button-disabled"},breakpoints:{768:{speed:.5*p}},on:{init:function(){!function(){var i=e(".ttt-landing__info"),a=i.eq(0),n=e(t).outerHeight(),s=e(".js-slide-title, .js-slide-description");TweenMax.set(s,{autoAlpha:0});var l=i.find(".js-slide-description");TweenMax.set(l,{y:50});var o=a.find(".js-slide-title");TweenMax.set(o,{y:50}),a.siblings().find(".js-slide-title").each((function(){var t=n-e(this).parent().offset().top;TweenMax.set(e(this),{y:t})}));var r=a.next().find(".js-slide-title");r.addClass("is-opacity"),TweenMax.set(r,{autoAlpha:.2}),a.addClass("is-active")}()},slideChange:function(){var t=this.activeIndex,a=this.previousIndex,n=this.slides[t];this.slides.length==t+1?e(".swiper-button-prev").addClass("slide-last"):e(".swiper-button-prev").removeClass("slide-last"),o()?e("body.is-iphone .ttt-landing__video").remove():function(t){var a=!!e(t).find(".js-slide-video").length,n=e(".js-slide-video"),s=n.attr("id"),l=i.getElementById(s);!function(e){l.paused?e&&(n.removeClass("video-hidden"),l.play()):e||(n.addClass("video-hidden"),l.pause())}(a)}(n),t?e(".ttt-landing__media-inner.is-change").addClass("is-scroll"):e(".ttt-landing__media-inner.is-change").removeClass("is-scroll"),function(t,i,a){var n=i,s=a,l=e("#wpadminbar").outerHeight(),o=e(".js-landing-info"),r=o.eq(n),d=(o.eq(s),o.outerHeight());if(e(".js-slide-title, .js-slide-description").removeClass("is-opacity is-visible"),n>s){var p=r.prev().prevAll().find(".js-slide-description");if(p.length&&p.each((function(){var t=e(this).parent().offset().top+e(this).outerHeight();TweenMax.to(e(this),c,{y:-t,autoAlpha:0})})),(y=r.prev().find(".js-slide-description")).length){y.addClass("is-opacity");var h=y.parent().offset().top-l-g;TweenMax.to(y,c,{y:-h,autoAlpha:.2})}(j=r.find(".js-slide-description")).addClass("is-visible"),j.length&&TweenMax.fromTo(j,c,{y:50,autoAlpha:0},{y:0,autoAlpha:1,delay:.75*c}),(_=r.nextAll().find(".js-slide-description")).length&&TweenMax.to(_,.4*c,{y:50,autoAlpha:0});var f=r.prev().find(".js-slide-title");if(f.length){var u=f.parent().offset().top+f.outerHeight();TweenMax.to(f,c,{y:-u,autoAlpha:0})}if((w=r.find(".js-slide-title")).addClass("is-visible"),w.length&&TweenMax.to(w,c,{y:0,autoAlpha:1}),(b=r.next().find(".js-slide-title")).addClass("is-opacity"),b.length){var v=b.parent().offset().top,m=d-v-b.outerHeight()-g/1.25;TweenMax.to(b,1.35*c,{y:m,autoAlpha:.2})}(x=r.next().nextAll().find(".js-slide-title"))&&x.each((function(){var t=d+e(this).outerHeight();TweenMax.to(e(this),c,{y:t,autoAlpha:0})}))}else{var y,w,j,_,x;if((y=r.prev().find(".js-slide-description")).length&&(y.addClass("is-opacity"),y.length)){h=y.parent().offset().top-l-g;TweenMax.to(y,c,{y:-h,autoAlpha:.2})}if((w=r.find(".js-slide-title")).addClass("is-visible"),w.length&&TweenMax.to(w,c,{y:0,autoAlpha:1}),(j=r.find(".js-slide-description")).addClass("is-visible"),j.length&&TweenMax.to(j,c,{y:0,autoAlpha:1}),(b=r.next().find(".js-slide-title")).addClass("is-opacity"),b.length){v=b.parent().offset().top,m=d-v-b.outerHeight()-g/1.25;TweenMax.to(b,c,{y:m,autoAlpha:.2})}(_=r.nextAll().find(".js-slide-description")).length&&TweenMax.to(_,.4*c,{y:50,autoAlpha:0}),(x=r.next().nextAll().find(".js-slide-title"))&&x.each((function(){var t=d+e(this).outerHeight();TweenMax.to(e(this),c,{y:t,autoAlpha:0})}))}if(s-n>1){var b;if((b=r.next().find(".js-slide-title")).length){v=b.parent().offset().top,m=d-v-b.outerHeight()-g/1.25;var T=d+b.outerHeight();TweenMax.fromTo(b,1.25*c,{y:T,autoAlpha:0},{y:m,autoAlpha:.2})}}o.eq(n).addClass("is-active").siblings().removeClass("is-active")}(0,t,a),this.keyboard.disable(),e(".swiper-pagination, .swiper-slide").addClass("swiper-no-swiping"),setTimeout(f,750*c)}}}),e(".swiper-button-first").on("click",(function(e){e.preventDefault(),d.slideTo(0,0,!1)})),e(".js-slide-next").on("click",(function(e){e.preventDefault(),d.slideNext()})),e(".js-slide-prev").on("click",(function(e){e.preventDefault(),d.slidePrev()})),e(".ttt-landing").length&&e("header").addClass("is-landing").css("background-color","transparent")}function f(){d.keyboard.enable(),e(".swiper-pagination, .swiper-slide").removeClass("swiper-no-swiping")}var u,g=24;function v(){g=e(t).outerWidth()>991?24:16}function m(){var i=e(t).outerHeight(),a=e("#wpadminbar").outerHeight(),n=e(".js-slide-title.is-opacity");if(n.length){var s=i-n.parent().offset().top-n.outerHeight()-g/1.25;TweenMax.set(n,{y:s})}var l=e(".js-slide-description.is-opacity");if(l.length){var o=l.parent().offset().top-a-g;TweenMax.set(l,{y:-o})}}function y(){if(e(".js-slide-title").length){var i=e(t).outerHeight();!function(){if(e(".js-animated").length){var t=e(".js-animated"),i=t.find(".ttt-landing__plate-1"),a=t.find(".ttt-landing__plate-2, .ttt-landing__plate-4"),n=t.find(".ttt-landing__plate-3, .ttt-landing__plate-5, .ttt-landing__plate-6, .ttt-landing__plate-7");TweenMax.to(i,c,{yPercent:0}),TweenMax.to(a,c,{xPercent:0}),TweenMax.to(n,c,{yPercent:0})}}();var a=e(".js-slide-title").eq(0);a.addClass("is-visible"),TweenMax.to(a,c,{y:0,autoAlpha:1,delay:1.5*c});var n=e(".js-slide-description").eq(0);n.addClass("is-visible"),TweenMax.to(n,c,{y:0,autoAlpha:1,delay:2*c});var s=e(".js-slide-title").eq(1),l=i-s.parent().offset().top-s.outerHeight()-g/1.25;TweenMax.to(s,c,{y:l,delay:2.2*c}),setTimeout(w,3200*c),setTimeout(f,3200*c)}}function w(){e(".js-slider-mask").css("display","none"),e(".js-animated").removeClass("js-animated");var t=(new Date).getTime(),a=0;i.body.querySelector(".ttt-landing").addEventListener("wheel",(function(e){((new Date).getTime()-t>200&&(new Date).getTime()-a>2*d.params.speed||(new Date).getTime()-a>1550)&&(e.deltaY<0&&d.slidePrev(),e.deltaY>0&&d.slideNext(),a=(new Date).getTime()),t=(new Date).getTime()}))}function j(){u.parent().siblings().removeClass("is-opacity")}function _(){if(e(".js-plates").length){var t=e(".js-plates"),i=t.find(".ttt-error__plate-1"),a=t.find(".ttt-error__plate-2, .ttt-error__plate-4"),n=t.find(".ttt-error__plate-3, .ttt-error__plate-5, .ttt-error__plate-6, .ttt-error__plate-7"),s=e(".js-error-title"),l=e(".js-error-body"),o=e(".js-error-btn");TweenMax.to(i,c,{yPercent:0}),TweenMax.to(a,c,{xPercent:0}),TweenMax.to(n,c,{yPercent:0}),TweenMax.to(s,c,{y:0,autoAlpha:1,delay:1.5*c}),TweenMax.to(l,c,{y:0,autoAlpha:1,delay:2*c}),TweenMax.to(o,c,{y:0,autoAlpha:1,delay:2.2*c},c)}}function x(){e("[data-header-style]").length&&e("[data-header-style]").each((function(){var t=e(this),a=t.offset().top,n=a+t.outerHeight(),s=e(".js-header").outerHeight()/2,l=e(i).scrollTop()+e("#wpadminbar").outerHeight()+s;l>a&&n>l&&("light"==t.attr("data-header-style")?e(".js-header").addClass("is-light"):e(".js-header").removeClass("is-light"));l<0&&e(".js-header").removeClass("is-light")}))}function b(){e(t).trigger("resize")}e(".js-nav a").hover((function(){e(this).parent().siblings().addClass("is-opacity")}),(function(){e(this).parent().siblings().removeClass("is-opacity")})),e(".js-nav a").on("click",(function(){u=e(this),setTimeout(j,500)})),e(".ttt-cs-page").not(".ttt-cs-page--light").length&&e("body").addClass("body-dark"),e(".js-team-video").hover((function(){var t=e(this).attr("id"),a=i.getElementById(t);a.play(),e(this).addClass("is-visible"),a.onended=function(){e(this).removeClass("is-visible")}}),(function(){})),e(t).on("load",(function(){var t;!function(t,i){if(!t)return!1;var a,n,s;e(t).each((function(){s=e(this),n=s.data("s-hidden"),(a=(a=s.closest(i)).length?a:s.parent()).css("background-image","url("+this.src+")").addClass("s-back-switch"),n?(s.css("visibility","hidden"),s.show()):s.hide()}))}(".s-img-switch"),v(),a(),h(),function(){if(e(".js-animated").length){var t=e(".js-animated"),i=t.find(".ttt-landing__plate-1"),a=t.find(".ttt-landing__plate-2, .ttt-landing__plate-4"),n=t.find(".ttt-landing__plate-3, .ttt-landing__plate-5, .ttt-landing__plate-6, .ttt-landing__plate-7");TweenMax.set(i,{yPercent:-101}),TweenMax.set(a,{xPercent:-100}),TweenMax.set(n,{yPercent:100})}}(),setTimeout(y,500),function(){if(e(".js-plates").length){var t=e(".js-plates"),i=t.find(".ttt-error__plate-1"),a=t.find(".ttt-error__plate-2, .ttt-error__plate-4"),n=t.find(".ttt-error__plate-3, .ttt-error__plate-5, .ttt-error__plate-6, .ttt-error__plate-7"),s=e(".js-error-title, .js-error-body, .js-error-btn");TweenMax.set(i,{yPercent:-101}),TweenMax.set(a,{xPercent:-100}),TweenMax.set(n,{yPercent:100}),TweenMax.set(s,{y:40,autoAlpha:0})}}(),setTimeout(_,500),t=e(".ttt-jobs__list").isotope({itemSelector:".ttt-jobs__item",masonry:{columnWidth:".ttt-jobs__item",gutter:0}}),e(".ttt-jobs__filter-item a").on("click",(function(i){i.preventDefault();var a=e(this).attr("data-filter");e(this).addClass("active").parent().siblings().find("a").removeClass("active"),t.isotope({filter:a})})),x(),e(".cs-preloader").length&&(e(".cs-preloader").fadeOut(500),e("body").removeClass("body-overflow")),setTimeout(b,10)})),e(t).on("resize",(function(){r()||o()&&e(".ttt-project").length||a(),v(),e(".ttt-landing").length&&!e(".js-animated").length&&m()})),e(t).on("scroll",(function(){x()})),t.addEventListener("orientationchange",(function(){a(),setTimeout(a,50),setTimeout(a,100),v(),x(),e(".ttt-landing").length&&!e(".js-animated").length&&m()})),e(".wpcf7").length||e("body").addClass("hide-recaptcha")}(jQuery,window,document);
